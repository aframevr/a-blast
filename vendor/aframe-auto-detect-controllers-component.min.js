!function(e){function t(o){if(i[o])return i[o].exports;var s=i[o]={exports:{},id:o,loaded:!1};return e[o].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){i(1)},function(e,t){AFRAME.registerComponent("auto-detect-controllers",{schema:{hand:{type:"string",default:"right"},trackedcontrols:{type:"boolean",default:!1},model:{type:"boolean",default:!0},singlehand:{type:"string",default:"right"}},init:function(){this.el;this.rescheduleCheck=!0,this.injectedControls=!1,this.checkControllerType=this.checkControllerType.bind(this),this.rescheduleControllerTypeCheck=this.rescheduleControllerTypeCheck.bind(this),this.getGamepads=function(){return navigator.getGamepads&&navigator.getGamepads()}},update:function(){this.data,this.el},play:function(){this.rescheduleControllerTypeCheck()},pause:function(){this.rescheduleCheck=!1,this.rescheduleCheckTimeout&&(clearTimeout(this.rescheduleCheckTimeout),delete this.rescheduleCheckTimeout)},injectOculusTouch:function(){var e=this.data.trackedcontrols?"tracked-controls":"oculus-touch-controls",t="";this.data.trackedcontrols?(t+="id:Oculus Touch "+("left"===this.data.hand?"(Left)":"(Right)"),t+=";controller:0"):t+="model:"+this.data.model,t+=";hand:"+this.data.hand,this.el.setAttribute(e,t),this.injectedControls=!0},injectVive:function(){var e=this.data.trackedcontrols?"tracked-controls":"vive-controls",t="";this.data.trackedcontrols?(t+="id:OpenVR Gamepad",t+=";controller:"+("left"===this.data.hand?1:0)):t+="model:"+this.data.model,t+=";hand:"+this.data.hand,this.el.setAttribute(e,t),this.injectedControls=!0},injectGearVR:function(){this.data.hand===this.data.singlehand&&this.el.setAttribute("gearvr-controls","hand",this.data.hand),this.injectedControls=!0},checkControllerType:function(){if(!this.injectedControls&&this.getGamepads){var e=this.getGamepads();if(e)for(var t=0;t<e.length;t++){var i=e[t];if(i){if(0===i.id.indexOf("Oculus Touch")){this.injectOculusTouch();break}if(0===i.id.indexOf("OpenVR Gamepad")){this.injectVive();break}}}AFRAME.utils.gearVRControls&&AFRAME.utils.gearVRControls.isControllerPresent()&&this.injectGearVR()}},rescheduleControllerTypeCheck:function(){this.checkControllerType(),this.rescheduleCheck=!this.injectedControls,this.rescheduleCheck&&(this.rescheduleCheckTimeout=setTimeout(this.rescheduleControllerTypeCheck,1e3))}})}]);